---
title: Chiffrement RSA Interactif
description: Outil de chiffrement et dÃ©chiffrement RSA
---

export function RSACrypto() {
  const [publicKey, setPublicKey] = React.useState('');
  const [privateKey, setPrivateKey] = React.useState('');
  const [textToEncrypt, setTextToEncrypt] = React.useState('');
  const [encryptedText, setEncryptedText] = React.useState('');
  const [textToDecrypt, setTextToDecrypt] = React.useState('');
  const [decryptedText, setDecryptedText] = React.useState('');
  const [message, setMessage] = React.useState('');
  const [isClient, setIsClient] = React.useState(false);

  React.useEffect(() => {
    setIsClient(true);
  }, []);

  const arrayBufferToBase64 = (buffer) => {
    let binary = '';
    const bytes = new Uint8Array(buffer);
    for (let i = 0; i < bytes.byteLength; i++) {
      binary += String.fromCharCode(bytes[i]);
    }
    return btoa(binary);
  };

  const base64ToArrayBuffer = (base64) => {
    const binary = atob(base64);
    const bytes = new Uint8Array(binary.length);
    for (let i = 0; i < binary.length; i++) {
      bytes[i] = binary.charCodeAt(i);
    }
    return bytes.buffer;
  };

  const generateKeys = () => {
    window.crypto.subtle.generateKey(
      { name: 'RSA-OAEP', modulusLength: 2048, publicExponent: new Uint8Array([1, 0, 1]), hash: 'SHA-256' },
      true,
      ['encrypt', 'decrypt']
    ).then(keyPair => {
      return Promise.all([
        window.crypto.subtle.exportKey('spki', keyPair.publicKey),
        window.crypto.subtle.exportKey('pkcs8', keyPair.privateKey)
      ]);
    }).then(([pub, priv]) => {
      setPublicKey(arrayBufferToBase64(pub));
      setPrivateKey(arrayBufferToBase64(priv));
      setMessage('âœ… ClÃ©s gÃ©nÃ©rÃ©es');
      setTimeout(() => setMessage(''), 3000);
    }).catch(err => {
      setMessage('âŒ Erreur : ' + err.message);
    });
  };

  const encryptMessage = () => {
    if (!publicKey || !textToEncrypt) {
      setMessage('âš ï¸ Entrer une clÃ© et un texte');
      return;
    }
    
    window.crypto.subtle.importKey(
      'spki', 
      base64ToArrayBuffer(publicKey), 
      { name: 'RSA-OAEP', hash: 'SHA-256' }, 
      false, 
      ['encrypt']
    ).then(key => {
      return window.crypto.subtle.encrypt(
        { name: 'RSA-OAEP' }, 
        key, 
        new TextEncoder().encode(textToEncrypt)
      );
    }).then(encrypted => {
      setEncryptedText(arrayBufferToBase64(encrypted));
      setMessage('âœ… ChiffrÃ© !');
      setTimeout(() => setMessage(''), 3000);
    }).catch(err => {
      setMessage('âŒ Erreur : ' + err.message);
    });
  };

  const decryptMessage = () => {
    if (!privateKey || !textToDecrypt) {
      setMessage('âš ï¸ Entrer une clÃ© et un texte chiffrÃ©');
      return;
    }
    
    window.crypto.subtle.importKey(
      'pkcs8', 
      base64ToArrayBuffer(privateKey), 
      { name: 'RSA-OAEP', hash: 'SHA-256' }, 
      false, 
      ['decrypt']
    ).then(key => {
      return window.crypto.subtle.decrypt(
        { name: 'RSA-OAEP' }, 
        key, 
        base64ToArrayBuffer(textToDecrypt)
      );
    }).then(decrypted => {
      setDecryptedText(new TextDecoder().decode(decrypted));
      setMessage('âœ… DÃ©chiffrÃ© !');
      setTimeout(() => setMessage(''), 3000);
    }).catch(err => {
      setMessage('âŒ Erreur : ' + err.message);
    });
  };

  const copy = (text) => {
    navigator.clipboard.writeText(text);
    setMessage('ğŸ“‹ CopiÃ© !');
    setTimeout(() => setMessage(''), 2000);
  };

  if (!isClient) return <div>Chargementâ€¦</div>;

  return (
    <div style={{ maxWidth: 1000, margin: '20px auto', padding: 20 }}>
      {message && (
        <div style={{ 
          padding: 12, 
          marginBottom: 20, 
          backgroundColor: message.includes('âŒ') ? '#fee' : message.includes('âš ï¸') ? '#fff3cd' : '#efe', 
          color: message.includes('âŒ') ? '#c33' : message.includes('âš ï¸') ? '#856404' : '#363', 
          borderRadius: 8,
          fontWeight: 600
        }}>
          {message}
        </div>
      )}

      <div style={{ backgroundColor: '#f8f9fa', padding: 20, borderRadius: 12, marginBottom: 20 }}>
        <h3 style={{ marginTop: 0 }}>ğŸ”‘ ClÃ©s RSA</h3>
        <button 
          onClick={generateKeys} 
          style={{ 
            padding: '12px 24px', 
            borderRadius: 8, 
            backgroundColor: '#667eea', 
            color: 'white', 
            border: 'none', 
            cursor: 'pointer',
            fontWeight: 600,
            marginBottom: 15
          }}
        >
          GÃ©nÃ©rer nouvelles clÃ©s
        </button>

        <div style={{ marginBottom: 15 }}>
          <label style={{ display: 'block', marginBottom: 5, fontWeight: 600 }}>ClÃ© publique:</label>
          <textarea 
            value={publicKey}
            onChange={e => setPublicKey(e.target.value)}
            placeholder="GÃ©nÃ©rer ou coller votre clÃ© publique..."
            style={{ 
              width: '100%', 
              minHeight: 100, 
              padding: 10, 
              borderRadius: 6, 
              border: '1px solid #ddd', 
              fontSize: 12,
              fontFamily: 'monospace'
            }} 
          />
          {publicKey && (
            <button onClick={() => copy(publicKey)} style={{ marginTop: 5, padding: '6px 12px', borderRadius: 6, cursor: 'pointer' }}>
              ğŸ“‹ Copier
            </button>
          )}
        </div>

        <div>
          <label style={{ display: 'block', marginBottom: 5, fontWeight: 600 }}>ClÃ© privÃ©e:</label>
          <textarea 
            value={privateKey}
            onChange={e => setPrivateKey(e.target.value)}
            placeholder="GÃ©nÃ©rer ou coller votre clÃ© privÃ©e..."
            style={{ 
              width: '100%', 
              minHeight: 100, 
              padding: 10, 
              borderRadius: 6, 
              border: '1px solid #ddd', 
              fontSize: 12,
              fontFamily: 'monospace'
            }} 
          />
          {privateKey && (
            <button onClick={() => copy(privateKey)} style={{ marginTop: 5, padding: '6px 12px', borderRadius: 6, cursor: 'pointer' }}>
              ğŸ“‹ Copier
            </button>
          )}
        </div>
      </div>

      <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 20 }}>
        <div style={{ backgroundColor: '#f8f9fa', padding: 20, borderRadius: 12 }}>
          <h3 style={{ marginTop: 0 }}>ğŸ”’ Chiffrer</h3>
          <textarea 
            value={textToEncrypt} 
            onChange={e => setTextToEncrypt(e.target.value)} 
            placeholder="Texte Ã  chiffrer..." 
            style={{ width: '100%', minHeight: 120, padding: 10, borderRadius: 6, border: '1px solid #ddd' }} 
          />
          <button 
            onClick={encryptMessage}
            style={{ 
              marginTop: 10,
              padding: '10px 20px', 
              borderRadius: 8, 
              backgroundColor: '#667eea', 
              color: 'white', 
              border: 'none', 
              cursor: 'pointer',
              fontWeight: 600
            }}
          >
            Chiffrer
          </button>
          {encryptedText && (
            <div style={{ marginTop: 15 }}>
              <label style={{ display: 'block', marginBottom: 5, fontWeight: 600 }}>RÃ©sultat:</label>
              <textarea
                value={encryptedText}
                readOnly
                style={{ 
                  width: '100%', 
                  minHeight: 120, 
                  padding: 10, 
                  borderRadius: 6, 
                  border: '1px solid #ddd',
                  fontSize: 12,
                  fontFamily: 'monospace'
                }}
              />
              <button onClick={() => copy(encryptedText)} style={{ marginTop: 5, padding: '6px 12px', borderRadius: 6, cursor: 'pointer' }}>
                ğŸ“‹ Copier
              </button>
            </div>
          )}
        </div>

        <div style={{ backgroundColor: '#f8f9fa', padding: 20, borderRadius: 12 }}>
          <h3 style={{ marginTop: 0 }}>ğŸ”“ DÃ©chiffrer</h3>
          <textarea 
            value={textToDecrypt} 
            onChange={e => setTextToDecrypt(e.target.value)} 
            placeholder="Texte chiffrÃ©..." 
            style={{ width: '100%', minHeight: 120, padding: 10, borderRadius: 6, border: '1px solid #ddd', fontSize: 12, fontFamily: 'monospace' }} 
          />
          <button 
            onClick={decryptMessage}
            style={{ 
              marginTop: 10,
              padding: '10px 20px', 
              borderRadius: 8, 
              backgroundColor: '#667eea', 
              color: 'white', 
              border: 'none', 
              cursor: 'pointer',
              fontWeight: 600
            }}
          >
            DÃ©chiffrer
          </button>
          {decryptedText && (
            <div style={{ marginTop: 15 }}>
              <label style={{ display: 'block', marginBottom: 5, fontWeight: 600 }}>RÃ©sultat:</label>
              <div style={{ 
                backgroundColor: '#d4edda', 
                padding: 10, 
                borderRadius: 6,
                border: '1px solid #c3e6cb',
                minHeight: 120
              }}>
                {decryptedText}
              </div>
              <button onClick={() => copy(decryptedText)} style={{ marginTop: 5, padding: '6px 12px', borderRadius: 6, cursor: 'pointer' }}>
                ğŸ“‹ Copier
              </button>
            </div>
          )}
        </div>
      </div>
    </div>
  );
}

# ğŸ” Chiffrement RSA

Outil de chiffrement et dÃ©chiffrement RSA avec Web Crypto API.

<RSACrypto />

## Comment utiliser

1. **GÃ©nÃ©rer des clÃ©s** ou coller vos propres clÃ©s dans les champs
2. **Chiffrer** : Entrez votre texte et cliquez sur "Chiffrer"
3. **DÃ©chiffrer** : Collez le texte chiffrÃ© et cliquez sur "DÃ©chiffrer"
